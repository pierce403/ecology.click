
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ecology.click</title>
    <style>
      html, body { margin:0; padding:0; height:100%; background:#0b0f12; color:#e6e8ea; font-family: ui-sans-serif, system-ui, -apple-system; }
      #app { height:100%; width:100%; }
      #ui-overlay { position:fixed; inset:0; pointer-events:none; z-index:5; }
      #ui-overlay > * { pointer-events:auto; }
      .hud { position:fixed; top:8px; left:8px; background:#1118; padding:8px 12px; border-radius:8px; font-size:14px; }
      .hotbar { position:fixed; bottom:8px; left:50%; transform:translateX(-50%); display:flex; gap:8px; background:#1118; padding:8px; border-radius:10px; }
      .slot { width:48px; height:48px; display:grid; place-items:center; border:1px solid #333; border-radius:8px; cursor:pointer; }
      .slot.active { outline:2px solid #7bd; }
      .event-log { position:fixed; bottom:8px; right:8px; width:300px; height:200px; background:#1118; border:1px solid #333; border-radius:8px; overflow:hidden; }
      .event-log-content { height:100%; overflow-y:auto; padding:8px; font-size:12px; line-height:1.4; }
      .event-item { margin-bottom:4px; color:#ccc; }
      .event-item:last-child { margin-bottom:0; }
      .buildables-list { position:fixed; left:8px; top:50px; width:250px; height:400px; background:#1118; border:1px solid #333; border-radius:8px; overflow-y:auto; padding:8px; }
      .buildable-item { margin-bottom:8px; padding:8px; border:1px solid #333; border-radius:6px; cursor:pointer; transition:all 0.2s; }
      .buildable-item.available { background:#1a2a1a; border-color:#4a6; }
      .buildable-item.unavailable { background:#2a1a1a; border-color:#666; color:#666; cursor:not-allowed; }
      .buildable-item.available:hover { background:#2a3a2a; }
      .buildable-name { font-weight:bold; margin-bottom:4px; }
      .buildable-desc { font-size:11px; color:#ccc; margin-bottom:4px; }
      .buildable-req { font-size:10px; color:#aaa; margin-bottom:2px; }
      .buildable-time { font-size:10px; color:#888; }
      .build-queue { position:fixed; bottom:8px; left:8px; width:300px; height:150px; background:#1118; border:1px solid #333; border-radius:8px; overflow-y:auto; padding:8px; }
      .queue-empty { color:#666; font-style:italic; text-align:center; margin-top:20px; }
      .queue-item { margin-bottom:8px; padding:6px; border:1px solid #333; border-radius:4px; background:#1a1a1a; }
      .queue-item.building { background:#1a2a1a; border-color:#4a6; }
      .queue-item.queued { background:#1a1a2a; border-color:#666; opacity:0.7; }
      .queue-name { font-weight:bold; margin-bottom:4px; }
      .queue-progress { display:flex; align-items:center; gap:8px; }
      .progress-bar { flex:1; height:8px; background:#333; border-radius:4px; overflow:hidden; }
      .progress-fill { height:100%; background:#4a6; transition:width 0.3s; }
      .queue-time { font-size:11px; color:#aaa; min-width:30px; text-align:right; }
      .cancel-btn { background:#d44; color:white; border:none; border-radius:3px; width:20px; height:20px; cursor:pointer; font-size:12px; }
      .cancel-btn:hover { background:#f66; }
      .inventory-list { position:fixed; top:8px; right:8px; width:200px; height:300px; background:#1118; border:1px solid #333; border-radius:8px; overflow-y:auto; padding:8px; }
      .inventory-item { display:flex; justify-content:space-between; align-items:center; padding:4px 8px; margin-bottom:4px; border-radius:4px; }
      .inventory-item.resource { background:#1a2a1a; border:1px solid #4a6; }
      .inventory-item.item { background:#1a1a2a; border:1px solid #46a; }
      .inventory-name { font-size:12px; }
      .inventory-count { font-size:11px; color:#aaa; font-weight:bold; }
      .slot-count { font-size:10px; color:#aaa; margin-top:2px; }
      .slot-label { font-size:12px; }
      .overlay-hidden { display:none !important; }
      .ui-button { position:fixed; z-index:10; background:#111a; color:#e6e8ea; border:1px solid #2c3e4a; border-radius:999px; padding:8px 14px; font-size:13px; cursor:pointer; backdrop-filter:blur(8px); box-shadow:0 4px 12px #0006; transition:background 0.2s, transform 0.2s; touch-action:manipulation; }
      .ui-button:active { transform:scale(0.98); }
      #overlay-toggle { top:12px; right:12px; }
      #mode-toggle { bottom:12px; right:12px; }
      #mode-toggle[data-mode='move'] { background:#1a3820aa; border-color:#3a6a46; }
      #mode-toggle[data-mode='build'] { background:#38201aaa; border-color:#6a463a; }
      @media (max-width: 900px) {
        .buildables-list, .inventory-list { width: min(240px, 90vw); }
        .event-log { width: min(280px, 90vw); height: 160px; }
        .build-queue { width: min(280px, 90vw); }
        .hotbar { gap:6px; padding:6px 10px; }
        .slot { width:44px; height:44px; }
        .hud { max-width: min(90vw, 420px); font-size:13px; }
      }
      @media (max-width: 640px) {
        #ui-overlay { display:flex; flex-direction:column; align-items:center; justify-content:flex-start; gap:10px; padding:10px; padding-bottom:120px; }
        #ui-overlay > .hud,
        #ui-overlay > .buildables-list,
        #ui-overlay > .inventory-list,
        #ui-overlay > .event-log,
        #ui-overlay > .build-queue { position:static; width:min(480px, 94vw); max-width:94vw; transform:none; left:auto; right:auto; }
        .hud { text-align:center; }
        .buildables-list,
        .inventory-list,
        .event-log,
        .build-queue { height:auto; max-height:clamp(140px, 24vh, 200px); }
        .event-log { order:4; }
        .build-queue { order:5; }
        .hotbar { bottom:12px; left:50%; transform:translateX(-50%); }
        #mode-toggle { bottom:calc(12px + 64px + 12px); }
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <div id="ui-overlay">
      <div class="hud">ecology.click â€” WASD to pan, Mouse to place. (Prototype)</div>
      <div class="hotbar" id="hotbar"></div>
      <div class="event-log" id="event-log"></div>
      <div class="buildables-list" id="buildables-list"></div>
      <div class="build-queue" id="build-queue"></div>
      <div class="inventory-list" id="inventory-list"></div>
      <button id="overlay-toggle" class="ui-button" type="button" aria-expanded="true">Hide UI</button>
      <button id="mode-toggle" class="ui-button" type="button" data-mode="build" aria-pressed="false">Build Mode</button>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
